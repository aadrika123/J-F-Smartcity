import{j as a,I}from"./mui-b0487069.js";import{u as me,r as i}from"./router-87042356.js";import{B as he,A as v,b as p}from"./index-73c863b2.js";import{C as xe}from"./CitizenApplyApiList-f4bfd8d1.js";import"./sweetalert2.all-9f5010e0.js";/* empty css              */import{w as O,t as fe,a as ge,s as be,b as ue,p as je}from"./septic-92c6194c.js";import{m as Ne,b as ye}from"./marriage-98e794b9.js";import{G as we}from"./reactIcons-6a3b6da1.js";import{l as ve}from"./lodge-40c4a41c.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./redux-89c26d4b.js";import"./i18next-e99b4042.js";const pe="/assets/rigmachine-fbcb41f9.jpeg",Se="/assets/grievancelogo-44b8f316.svg",Q="/assets/property-fbb4f386.png";function Ae(j){return we({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"}}]})(j)}const Pe="/assets/finesimg-e530d190.jpg",ke="/assets/swm-1b451a03.png",Oe=()=>{var D,T,F,M,R,z,B,G,E,q,J,K;const j=me(),{post_citizenDashboard:U,api_getProfileDetails:V,api_applicationCount:X,api_allModulePayment:Y}=xe(),[_e,Z]=i.useState([]),[He,$]=i.useState(null),[s,C]=i.useState([]),[t,L]=i.useState([]),[ee,c]=i.useState(!1),[ae,f]=i.useState(0),[W,te]=i.useState(!1),[S,A]=i.useState([]),[P,k]=i.useState([]),[_,H]=i.useState([]),se=()=>{c(!0),v.post(U,{},p()).then(e=>{var r,l,o;(r=e==null?void 0:e.data)!=null&&r.status&&(Z((o=(l=e==null?void 0:e.data)==null?void 0:l.data)==null?void 0:o.property),c(!1)),c(!1)}).catch(e=>console.error(e)),c(!1)},re=()=>{c(!0),v.post(Y,{},p()).then(e=>{var r,l,o;console.log((r=e==null?void 0:e.data)==null?void 0:r.data),(l=e==null?void 0:e.data)!=null&&l.status&&(L((o=e==null?void 0:e.data)==null?void 0:o.data),c(!1)),c(!1)}).catch(e=>console.error(e)),c(!1)},le=()=>{c(!0),v.post(V,{},p()).then(e=>{var r,l;(r=e==null?void 0:e.data)!=null&&r.status&&$((l=e==null?void 0:e.data)==null?void 0:l.data),c(!1),console.log("Getting Citizen details",e)}).catch(e=>console.error(e)),c(!1)},oe=()=>{c(!0),v.post(X,{},p()).then(function(e){var r,l,o;console.log("fetched application count...",(r=e==null?void 0:e.data)==null?void 0:r.data),(l=e==null?void 0:e.data)!=null&&l.status&&(C((o=e==null?void 0:e.data)==null?void 0:o.data),c(!1)),c(!1)}).catch(function(e){console.log("notification error......",e),c(!1)})};i.useEffect(()=>{se(),le(),oe(),re()},[]);let g=[{navigation:"/propertyDashboard",image:Q,total:(s==null?void 0:s.propDetails)??0,name:"Property",isHref:!1},{navigation:"/water-dashboard",image:O,total:(s==null?void 0:s.waterDetails)??0,name:"Water Connection(s)",isHref:!1},{navigation:"/trade-dashboard",image:fe,total:(s==null?void 0:s.tradeDetails)??0,name:"Trade License(s)",isHref:!1},{navigation:"/fines",image:Pe,total:(s==null?void 0:s.finesDetails)??0,name:"Fines & Penalties",isHref:!1},{navigation:"/advertisement-dashboard",image:ge,total:(s==null?void 0:s.advertisementDetails)??0,name:"Advertisement",isHref:!1},{name:"Lodge & Banquet Registration",navigation:"/marketingDashboard",image:ve,total:(s==null?void 0:s.lodgeBanquetDetails)??0,isHref:!1},{navigation:"/marriage-index",image:Ne,total:(s==null?void 0:s.marriageDetails)??0,name:"Marriage Registration",isHref:!1},{navigation:"/septicTankDashboard",image:be,total:(s==null?void 0:s.septicTankerDetails)??0,name:"Septic Tank",isHref:!1},{navigation:"/waterTankerDashboard",image:ue,total:(s==null?void 0:s.waterTankerDetails)??0,name:"Water Tank",isHref:!1},{navigation:"/pet-registration-dashboard",image:je,total:(s==null?void 0:s.petDetails)??0,name:"Pet Registration",isHref:!1},{navigation:"/vehicle-registration-dashboard",image:pe,total:(s==null?void 0:s.rigDetails)??0,name:"Rig Registration",isHref:!1},{image:Se,navigation:"/propertyDashboard",name:"Grievance"}];console.log("module data===>",s);const N=(e,r,l)=>{const o=e.reduce((x,d)=>{var h;const n=(h=t==null?void 0:t.propDetails)==null?void 0:h.find(u=>u.id===d),b=parseFloat(n==null?void 0:n.total_demand_amount)||0;return x+b},0),m=r.reduce((x,d)=>{var h;const n=(h=t==null?void 0:t.waterDetails)==null?void 0:h.find(u=>u.id===d),b=parseFloat(n==null?void 0:n.total_demand_amount)||0;return x+b},0),y=l.reduce((x,d)=>{var h;const n=(h=t==null?void 0:t.swmDetails)==null?void 0:h.find(u=>u.id===d),b=parseFloat(n==null?void 0:n.amount)||0;return x+b},0),w=o+m+y;return Number(w).toFixed(2)},ce=()=>{var r,l,o;const e=!W;if(te(e),e){const m=((r=t==null?void 0:t.propDetails)==null?void 0:r.map(d=>d.id))||[],y=((l=t==null?void 0:t.waterDetails)==null?void 0:l.map(d=>d.id))||[],w=((o=t==null?void 0:t.swmDetails)==null?void 0:o.map(d=>d.id))||[];A(m),k(y),H(w);const x=N(m,y,w);f(x)}else A([]),k([]),H([]),f("0.00")},de=e=>{A(r=>{const l=r.includes(e)?r.filter(m=>m!==e):[...r,e],o=N(l,P,_);return f(o),l})},ne=e=>{k(r=>{const l=r.includes(e)?r.filter(m=>m!==e):[...r,e],o=N(S,l,_);return f(o),l})},ie=e=>{H(r=>{const l=r.includes(e)?r.filter(m=>m!==e):[...r,e],o=N(S,P,l);return f(o),l})};return a.jsxs(a.Fragment,{children:[ee&&a.jsx(he,{}),a.jsxs("div",{className:"grid grid-cols-12 h-screen bg-white mx-4 md:mx-0",children:[a.jsxs("div",{className:" md:ml-11 mt-12 col-span-12 md:col-span-8 order-last md:order-first",children:[a.jsx("h1",{className:"text-2xl font-semibold max-sm:text-center",children:"All E-Governance Services"}),a.jsxs("div",{className:"flex flex-wrap gap-x-[4rem] gap-y-3 mt-10 bg-white  max-sm:justify-center max-sm:mb-20",children:[console.log("Line 170",g),Array.isArray(g)&&(g==null?void 0:g.map(e=>a.jsx("div",{onClick:()=>{e.isHref?window.location.href=e.navigation:j(e==null?void 0:e.navigation)},className:"md:w-40 h-26 bg-white rounded-lg shadow-sm max-sm:w-full cursor-pointer",children:a.jsx("div",{className:"md:w-52 max-sm:w-full h-28 bg-white rounded-lg shadow-xl pl-2",children:a.jsxs("div",{className:"grid grid-cols-12",children:[a.jsxs("div",{className:"col-span-3 ",children:[a.jsx("div",{className:"w-10 h-10 rounded-full m-2 flex justify-center items-center",children:a.jsx("img",{src:e.image,alt:"",className:"w-8 h-8 rounded-full"})}),a.jsx("div",{className:"w-10 h-10 rounded-full mt-4 font-semibold flex justify-center items-center",children:(e==null?void 0:e.total)==0?"":e==null?void 0:e.total})]}),a.jsx("div",{className:"col-span-9 ml-4 ",children:a.jsx("h1",{className:"font-semibold text-sm mt-1 cursor-pointer",children:e.name})})]})})},e.id))),a.jsx("div",{className:"w-52 h-28shadow-xl pl-2",children:a.jsx("div",{className:"flex justify-center items-center w-full h-full ",children:a.jsxs("span",{className:"hover:bg-gray-200 p-6 rounded-full cursor-pointer",onClick:()=>j("/propertyDashboard"),children:[" ",a.jsx(Ae,{className:"text-3xl"})]})})})]})]}),a.jsx("div",{className:"col-span-12 md:col-span-4 order-1 md:order-last pr-10 pt-5 ml-[2rem]",children:a.jsx("div",{className:"flex justify-center items-center w-full mt-10 font-semibold text-xl",children:a.jsxs("div",{className:"w-full bg-white shadow-lg rounded-md px-4 py-2",children:[a.jsxs("div",{className:"bg-blue-500 px-4 py-2 rounded-lg text-white flex items-center justify-center space-x-2",children:[a.jsx("img",{src:ye,alt:"Bell Icon",className:"w-6 h-6"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Pending Demands"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[a.jsxs("h1",{className:"text-lg font-semibold flex items-center",children:[a.jsx("img",{src:Q,alt:"Property Icon",className:"w-6 h-6 mr-2"}),"Property"]}),((D=t==null?void 0:t.propDetails)==null?void 0:D.length)!=0&&((T=t==null?void 0:t.waterDetails)==null?void 0:T.length)!=0&&((F=t==null?void 0:t.swmData)==null?void 0:F.length)!=0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("label",{htmlFor:"selectAll",className:"font-semibold mr-2 text-lg",children:"Select All"}),a.jsx("input",{type:"checkbox",id:"selectAll",checked:W,onChange:ce,className:"w-6 h-4"})]})]}),a.jsxs("table",{className:"w-full mt-2 border border-gray-300 text-center",children:[a.jsx("thead",{className:"bg-gray-200 text-black text-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"border border-gray-500 ",children:"Holding No."}),a.jsx("th",{className:"border border-gray-500 ",children:"Payable Amount"}),a.jsx("th",{className:"border border-gray-500 ",children:"Select"})]})}),a.jsx("tbody",{className:"text-sm font-normal",children:((M=t==null?void 0:t.propDetails)==null?void 0:M.length)>0?(R=t==null?void 0:t.propDetails)==null?void 0:R.map(e=>a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-500 ",children:e==null?void 0:e.holding_no}),a.jsx("td",{className:"border border-gray-500 ",children:e==null?void 0:e.total_demand_amount}),a.jsx("td",{className:"border border-gray-500 ",children:a.jsx("input",{type:"checkbox",checked:S.includes(e.id),onChange:()=>de(e.id,e.total_demand_amount)})})]},e.id)):a.jsx("tr",{children:a.jsxs("td",{colSpan:"3",className:"border border-gray-500 text-center text-blue-500",children:[a.jsx(I,{})," No Pending Dues"]})})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("h1",{className:"text-lg font-semibold flex items-center",children:[a.jsx("img",{src:O,alt:"Water Icon",className:"w-6 h-6 mr-2"}),"Water"]}),a.jsxs("table",{className:"w-full mt-2 border border-gray-300 text-center",children:[a.jsx("thead",{className:"bg-gray-200 text-black text-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"border border-gray-500 ",children:"Consumer No."}),a.jsx("th",{className:"border border-gray-500 ",children:"Payable Amount"}),a.jsx("th",{className:"border border-gray-500 ",children:"Select"})]})}),a.jsx("tbody",{className:"text-sm font-normal",children:((z=t==null?void 0:t.waterDetails)==null?void 0:z.length)>0?a.jsx(a.Fragment,{children:(B=t==null?void 0:t.waterDetails)==null?void 0:B.map(e=>a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-500 ",children:e==null?void 0:e.consumer_no}),a.jsx("td",{className:"border border-gray-500 ",children:e==null?void 0:e.total_demand_amount}),a.jsx("td",{className:"border border-gray-500 ",children:a.jsx("input",{type:"checkbox",checked:P.includes(e.id),onChange:()=>ne(e.id,e.total_demand_amount)})})]},e.id))}):a.jsx("tr",{children:a.jsxs("td",{colSpan:"3",className:"border border-gray-500 text-center text-blue-500",children:[a.jsx(I,{})," No Pending Dues"]})})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("h1",{className:"text-lg font-semibold flex items-center",children:[a.jsx("img",{src:ke,alt:"SWM Icon",className:"w-6 h-6 mr-2"}),"SWM"]}),a.jsxs("table",{className:"w-full mt-2 border border-gray-300 text-center ",children:[a.jsx("thead",{className:"bg-gray-200 text-black text-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"border border-gray-500 ",children:"Consumer No."}),a.jsx("th",{className:"border border-gray-500 ",children:"Payable Amount"}),a.jsx("th",{className:"border border-gray-500 ",children:"Select"})]})}),a.jsx("tbody",{className:"text-sm font-normal",children:((G=t==null?void 0:t.swmDetails)==null?void 0:G.length)>0?a.jsx(a.Fragment,{children:(E=t==null?void 0:t.swmDetails)==null?void 0:E.map(e=>a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-500 ",children:e.consumerNo}),a.jsx("td",{className:"border border-gray-500 ",children:e.amount}),a.jsx("td",{className:"border border-gray-500 ",children:a.jsx("input",{type:"checkbox",checked:_.includes(e.id),onChange:()=>ie(e.id,e.amount)})})]},e.id))}):a.jsx("tr",{children:a.jsxs("td",{colSpan:"3",className:"border border-gray-500 text-center text-blue-500",children:[a.jsx(I,{})," No Pending Dues"]})})})]})]}),((q=t==null?void 0:t.propDetails)==null?void 0:q.length)!=0&&((J=t==null?void 0:t.waterDetails)==null?void 0:J.length)!=0&&((K=t==null?void 0:t.swmData)==null?void 0:K.length)!=0&&a.jsx("div",{className:"mt-2 flex justify-between items-center",children:a.jsxs("p",{className:"font-semibold text-lg",children:["Total Amount :"," ",ae]})})]})})})]})]})};export{Oe as default};
