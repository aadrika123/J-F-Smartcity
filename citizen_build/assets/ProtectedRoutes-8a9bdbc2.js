import{j as e}from"./mui-b0487069.js";import{r as o,u as H,L as ee,h as z,N as P,O as ae}from"./router-87042356.js";import{l as G,g as D}from"./localstorage-fbfe5679.js";import{A as $,b as E,P as se,k as F,l as I,U,B as V,F as te,p as ne,G as oe}from"./index-135304c3.js";import{u as re}from"./user-9843d999.js";import{C as le}from"./CitizenApplyApiList-fe2d4325.js";import{M as W}from"./index-387451dc.js";import{a as q}from"./index.esm-f717eb21.js";import{a as Y}from"./redux-89c26d4b.js";/* empty css                */import{c as ie,d as ce}from"./index.esm-df462c79.js";import{a as de}from"./index.esm-61f3eeba.js";import{T as ue}from"./TitleBar-a3448a88.js";import{s as xe,d as me}from"./Styles-8155a0a5.js";import{a as fe}from"./index.esm-7e26a860.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./reactIcons-6a3b6da1.js";import"./i18next-e99b4042.js";function J(s){const{api_logout:t}=se();console.log("inside citizen logout hook"),$.post(t,{},E()).then(function(i){console.log("logout response via usesetlogout.",i)}).catch(function(i){console.log("logout success...")}).finally(()=>{s()})}const he=s=>{const{t}=F(),[i,b]=o.useState(!1),[j,c]=o.useState(!1),{toggleBar:u,settoggleBar:x}=o.useContext(I),{brand_tag:m,brand_name:d,ulb_name:g,brand_logo:p}=U(t),f=H();function h(){b(!1)}const v=()=>{c(!1),G(),s.LOGOUT(),f("/")},k=()=>{h(),J(v)},{api_getProfileDetails:S}=le(),[l,C]=o.useState(),[O,w]=o.useState(""),_=ne;return o.useEffect(()=>{$.post(S,{},E()).then(function(r){var N,y,L;console.log("getdata for my profile in sidebar ....",r.data),r.data.status&&(C((N=r==null?void 0:r.data)==null?void 0:N.data),w(`${_}/${(L=(y=r==null?void 0:r.data)==null?void 0:y.data)==null?void 0:L.profile_photo}`))}).catch(function(r){console.log("getdata for my profile errorrr.... ",r)})},[]),console.log(`image data => ${_}/${l==null?void 0:l.profile_photo}`),e.jsxs(e.Fragment,{children:[j&&e.jsx(V,{}),e.jsxs("div",{className:"bg-white flex flex-row justify-between px-2 sm:px-6 py-1 border shadow-sm print:hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("img",{src:p,alt:"",className:"w-11 h-11"}),e.jsx("span",{className:"font-semibold text-xl",children:m}),e.jsx("div",{onClick:()=>{x(!u)},children:e.jsx("span",{className:"cursor-pointer text-gray-700 text-xl",children:e.jsx(te,{})})})]}),e.jsxs("div",{className:"flex items-center sm:gap-4 gap-2",children:[e.jsx("span",{className:"sm:visible sm:block hidden",children:e.jsx("button",{onClick:()=>f("/logout-eparmaan"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-1.5 text-xs rounded-sm shadow-md",children:"Log Out"})}),e.jsxs("span",{className:"font-semibold capitalize flex gap-1",children:[e.jsx("span",{className:"sm:visible sm:block hidden",children:"Welcome,"})," ",l==null?void 0:l.name]}),e.jsx("span",{children:e.jsx(ee,{to:"/editProfile",children:e.jsx("img",{src:O,onError:()=>w(re),alt:"",className:"w-11 h-11 rounded-full border-2 border-gray-200 bg-gray-50 p-1"})})})]})]}),e.jsx(W,{isOpen:i,onRequestClose:h,className:"h-screen w-screen flex items-center justify-center",contentLabel:"Logout Modal",children:e.jsxs("div",{class:"relative rounded-lg shadow-lg p-10 w-max h-max backdrop-blur-sm bg-white animate__animated animate__slideInLeft animate__faster",children:[e.jsx("button",{onClick:h,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{class:"p-6 text-center",children:[e.jsxs("div",{className:"w-full flex h-10",children:[" ",e.jsx("span",{className:"mx-auto",children:e.jsx(q,{size:30})})]}),e.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500",children:"Are you sure to logout ?"}),e.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:k,children:"Yes, I'm sure"})]})]})})]})},ge=s=>({RightNavCloseStatus:s.RightNavCloseStatus,isLoggedIn:s.isLoggedIn}),pe=s=>({RIGHT_NAV_OPEN:t=>s({type:"RIGHT_NAV_OPEN"}),LOGOUT:t=>s({type:"LOGOUT"}),RIGHT_NAV_CLOSE:t=>s({type:"RIGHT_NAV_CLOSE"})}),be=Y(ge,pe)(he);const je=s=>{var A,B;const{t}=F(),{ulb_name:i,brand_tag:b,state:j}=U(t),{toggleBar:c,settoggleBar:u}=o.useContext(I),[x,m]=o.useState(!1),[d,g]=o.useState(""),[p,f]=o.useState(!1),h=z(),v=H(),[k,S]=o.useState(!1);if(h.pathname=="/login"||h.pathname=="/register")return;function l(){f(!1)}const C=()=>{S(!1),G(),s.LOGOUT(),v("/")},O=()=>{l(),J(C)},w="block w-full pl-7 py-2 px-6 clear-both whitespace-nowrap text-sm hover:text-white hover:bg-indigo-700 rounded-md text-sm animate__animated animate__fadeIn animate__faster ",_="block py-3 px-4 hover:text-white hover:bg-indigo-700 rounded-md animate__animated animate__fadeIn animate__faster ",r=a=>{m(!x),g(a)},N="animate__animated animate__slideInLeft animate__faster bg-indigo-500 w-[15rem] ",y="animate__animated animate__fadeInLeft animate__faster ",L="animate__animated animate__fadeInLeft animate__faster ",Q="w-0 sm:w-3 bg-indigo-500 animate__animated ",K="animate__animated animate__fadeOutLeft animate__faster ",X="animate__animated animate__fadeOutLeft animate__faster ",Z=a=>{(a==null?void 0:a.split("/")[1])=="safform"&&(v(`/${a}`),window.location.reload())};return e.jsxs(e.Fragment,{children:[k&&e.jsx(V,{}),e.jsxs("header",{className:(c?N:Q)+" relative select-none transition-all duration-200 h-full text-white ",children:[e.jsx("div",{class:(c?L:X)+" bg-gradient-to-r from-cyan-500 to-blue-500 ",id:"mobile-menu",children:e.jsx("nav",{id:"mobile-nav",class:"flex flex-col ltr:right-0 rtl:left-0 w-full top-0 py-4 ",children:e.jsx("div",{class:"mb-auto text-sm 2xl:text-base text-gray-50",children:e.jsx("div",{class:" px-4 h-[87vh] overflow-y-auto scrollbar-width-10 scrollbar-track-indigo-100 scrollbar-thumb-indigo-700 scrollbar-thumb-rounded-full scrollbar-thumb-hover-indigo-500 transition-all duration-200",children:e.jsx("nav",{class:"relative flex flex-wrap items-center justify-between",children:e.jsxs("ul",{id:"side-menu",class:"w-full float-none flex flex-col mb-[40px]",children:[(B=(A=s==null?void 0:s.menu)==null?void 0:A.mainMenu)==null?void 0:B.map(a=>{var T,R;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:`relative cursor-pointer ${a!=null&&a.hiddenForSmallScreen?"hidden":""}`,onClick:()=>{var n;window.innerWidth<=763&&((n=a==null?void 0:a.subMenu)==null?void 0:n.length)==0&&u(!c)},children:[e.jsxs(P,{to:(a==null?void 0:a.route)==""?null:a==null?void 0:a.route,className:({isActive:n})=>{var M;return(n&&((M=a==null?void 0:a.subMenu)==null?void 0:M.length)==0?"bg-gradient-to-r from-blue-600 to-violet-600 ":" ")+`${_} flex gap-2 items-center`},onClick:()=>{r(a==null?void 0:a.name),d==(a==null?void 0:a.name)&&g("")},children:[" ",e.jsx("span",{className:"flex",children:(a==null?void 0:a.isMantence)==!0?e.jsxs("span",{className:"-mt-1  text-red-600 font-extrabold text-2xl font-extrabold",children:[e.jsx(de,{})," "]}):e.jsxs("span",{className:"  ",children:["  ",e.jsx(ie,{})]})})," ",e.jsxs("div",{className:"flex justify-between items-center flex-1",children:[e.jsx("span",{children:a==null?void 0:a.name}),(a==null?void 0:a.route)==""&&e.jsx("span",{className:d==(a==null?void 0:a.name)?"transition-all duration-200 ease-in-out rotate-90":"transition-all duration-200 ease-in-out rotate-0",children:e.jsx(oe,{})})]})," "]}),((T=a==null?void 0:a.subMenu)==null?void 0:T.length)>0&&d==(a==null?void 0:a.name)&&e.jsx("ul",{class:"block rounded rounded-t-none top-full py-0.5 ltr:text-left rtl:text-right mb-4 bg-gradient-to-r from-blue-600 to-violet-600",children:(R=a==null?void 0:a.subMenu)==null?void 0:R.map(n=>e.jsx(e.Fragment,{children:e.jsx("li",{class:"relative cursor-pointer",onClick:()=>{window.innerWidth<=763&&u(!c)},children:e.jsxs(P,{to:n==null?void 0:n.route,onClick:()=>Z(n==null?void 0:n.route),className:({isActive:M})=>(M?"bg-indigo-400 ":" ")+`${w} flex gap-3 items-center`,children:[e.jsx("span",{children:e.jsx(ce,{})})," ",e.jsx("span",{children:n==null?void 0:n.name})]})})}))})]})})}),window.ReactNativeWebView?e.jsx("li",{className:"relative sm:hidden visible",children:e.jsx("a",{href:window.location.origin+"/juidco-app",className:"py-2 px-6 w-full text-sm inline-block text-center rounded leading-5 text-gray-100 bg-red-500 border border-pink-500 hover:text-gray-300 hover:bg-red-600 hover:ring-0 hover:border-red-600 focus:bg-red-600 focus:border-pink-600 focus:outline-none focus:ring-0 cursor-pointer",children:"Home"})}):null]})})})})})}),e.jsx("div",{className:(c?y:K)+"absolute text-xs text-white bottom-14 py-[5px] bg-[#3A83f5] text-center z-10 border-t-[1px] w-[96%]",children:e.jsxs("span",{className:"",children:[" ","Â© 2024 : ",b=="AMC"?"AMC":"JUIDCO"]})})]}),e.jsx(W,{isOpen:p,onRequestClose:l,className:"h-screen w-screen flex items-center justify-center",contentLabel:"Logout Modal",children:e.jsxs("div",{class:"relative rounded-lg shadow-lg p-10 w-max h-max backdrop-blur-sm bg-white",children:[e.jsx("button",{onClick:l,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{class:"p-6 text-center",children:[e.jsxs("div",{className:"w-full flex h-10",children:[" ",e.jsx("span",{className:"mx-auto",children:e.jsx(q,{size:30})})]}),e.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500",children:"Are you sure to logout ?"}),e.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:O,children:"Yes, I'm sure"})]})]})})]})},ve=s=>({RightNavCloseStatus:s.RightNavCloseStatus,isLoggedIn:s.isLoggedIn}),we=s=>({RIGHT_NAV_OPEN:t=>s({type:"RIGHT_NAV_OPEN"}),LOGOUT:t=>s({type:"LOGOUT"}),RIGHT_NAV_CLOSE:t=>s({type:"RIGHT_NAV_CLOSE"})}),_e=Y(ve,we)(je),Ne=s=>{console.log(s.windowSize,"===>>");const i={mainMenu:[{name:"Home",route:"/",subMenu:[],isHref:!1,hiddenForSmallScreen:s.windowSize<="628"&&!0},{name:"Dashboard",route:"/landingDashboard",subMenu:[],isHref:!1},{name:"Property",route:"",isMantence:!0,subMenu:[{name:"My Properties",route:"/propertyDashboard"},{name:"Payment History",route:"/PropertyAllTranscationList"},{name:"Tax Calculator",route:"/tax-cal/inside"}],isHref:!1},{name:"Water",route:"",isMantence:!0,subMenu:[{name:"Water Connections",route:"/water-dashboard"},{name:"Payment History",route:"/waterViewAllPaymentHistory"}],isHref:!1},{name:"Trade",route:"/trade-dashboard",isMantence:!0,subMenu:[],isHref:!1},{name:"Fines & Penalties",route:"/fines",subMenu:[],isHref:!1},{name:"Swm",route:"/swm",isMantence:!0,subMenu:[],isHref:!1},{name:"Advertisement",route:"/advertisement-dashboard",subMenu:[],isHref:!1},{name:"Lodge & Banquet Registration",route:"/marketingDashboard",subMenu:[],isHref:!1},{name:"Marriage Registration",route:"/marriage-index",isMantence:!0,subMenu:[],isHref:!1},{name:"Pet Registration",route:"/pet-registration-dashboard",subMenu:[],isHref:!1},{name:"Water Tanker",route:"/waterTankerDashboard",subMenu:[],isHref:!1},{name:"Septic Tank",route:"/septicTankDashboard",subMenu:[],isHref:!1},{name:"Rig (HYDT) Registration",route:"/vehicle-registration-dashboard",subMenu:[],isHref:!1},{name:"Scheme",route:"/info-scheme-inside",isHref:!1,subMenu:[]},{name:"FAQ",route:"/faq-inside",isHref:!1,subMenu:[]}]};return e.jsx(e.Fragment,{children:e.jsx(_e,{menu:i})})},Fe=()=>{const s=H(),{setheartBeatCounter:t,settoggleBar:i,breadCrumbData:b,titleText:j,titleStatus:c}=o.useContext(I),u=location.pathname.startsWith("/citizen/safform/"),x=["/citizen/landingDashboard"].includes(location.pathname);o.useEffect(()=>{t(f=>f+1)},[]);const m=z();let d=localStorage.getItem("device")=="mobile",g=window.innerWidth;const p=()=>{m.pathname.includes("paymentSuccessTanker")?s("/waterTankerDashboard"):m.pathname.includes("paymentSuccess-septicTank")?s("/septicTankDashboard"):s(-1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex justify-center items-center  h-[100vh] w-full ",children:[e.jsx("div",{className:"backgroundDoodle"}),e.jsxs("div",{className:"flex flex-row flex-wrap w-full md:w-[95%] h-full md:h-[97%] bg-[#eff2f7]  md:rounded-[40px] lg:rounded-[40px] drop-shadow-[0_15px_15px_rgba(0,0,0,0.25)] overflow-clip blurBackground",children:[!d&&e.jsx("div",{className:"w-full",children:e.jsx(be,{})}),e.jsx("div",{className:"md:flex md:relative absolute top-[3.4rem] md:top-0 h-full",style:{zIndex:999},children:e.jsx(Ne,{windowSize:g})}),e.jsxs("div",{className:"flex-1 h-full w-[60%] relative",onClick:()=>window.innerWidth<=763&&i(!1),children:[!x&&!u&&!d&&e.jsxs("span",{className:"cursor-pointer hover:text-indigo-500 font-semibold md:text-base text-sm  top-0 left-1 md:top-8 md:left-2",onClick:p,children:[e.jsx(fe,{className:"inline"}),"Back"]}),e.jsx("div",{className:" px-2 md:px-10 md:mt-0",children:e.jsx(ue,{titleText:j,titleStatus:c})}),e.jsxs("div",{className:`${xe} ${!x&&" md:px-5 pt-6 md:pt-4"} `,children:[D("citizen_token")!="null"&&D("citizen_token")!=null?e.jsx(ae,{}):s("/"),e.jsx("div",{className:"h-[9vh]"})]}),e.jsx("div",{className:me})]})]})]})})};export{Fe as default};
