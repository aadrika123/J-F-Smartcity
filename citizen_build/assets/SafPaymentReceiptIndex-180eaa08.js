import{j as e}from"./mui-b0487069.js";import{a as X,f as Y,r as o}from"./router-87042356.js";import{R as G}from"./index-90c6ecf6.js";import{r as J,n as t,X as y,k as K,x as Z,A as ee,b as se,B as te}from"./index-135304c3.js";import{C as ae}from"./CitizenApplyApiList-fe2d4325.js";import"./CommonModal-6dc73cd4.js";import{S as re}from"./ServerErrorCard-74979209.js";import{Q as le}from"./QrCode-60a709d3.js";import{P as ne}from"./PrintButton-57e626b8.js";import{e as ie}from"./Styles-8155a0a5.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./reactIcons-6a3b6da1.js";import"./redux-89c26d4b.js";import"./i18next-e99b4042.js";import"./index-387451dc.js";import"./index-8289c3ab.js";class ce extends X.Component{render(){var h,l,p,j,i,N,c,g,f,b,n,a,r,u,v,w,D,R,S,A,T,P,F,_,C,k,I,H,z,B,E,L,M,O,Q,q,V,W,U,$;console.log("paymentData...1",this.props.module);const s=(h=this==null?void 0:this.props)==null?void 0:h.ulbData;(l=this==null?void 0:this.props)==null||l.paymentData;const m=()=>{window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_TO_PRINTER",url:`<div style="border: 2px dashed gray; background-color: white; padding: 8px; width: 250mm; height: auto; position: relative; margin: 0 auto;">
    <div style="display: grid; grid-template-columns: 1fr; text-align: center; position: relative;">
        <div>
            <img src="${s==null?void 0:s.ulb_logo}" style="height: 80px; display: block; margin: 0 auto;" />
        </div>
        <div style="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
            <img src="${s==null?void 0:s.state_logo}" alt="" style="width: 22rem; height: 22rem; opacity: 0.2; border-radius: 50%; border: 1px solid;" />
        </div>
    </div>

    <div style="text-align: center; padding-top: 8px;">
        <h1 style="font-weight: bold; font-size: 32px;">${s==null?void 0:s.ulb_name}</h1>
    </div>

    <div style="text-align: center; padding-top: 16px;">
        <h1 style="font-weight: bold; font-size: 20px; color: gray; border: 2px solid black; padding: 10px; display: inline-block;">Payment Receipt<br>Holding Tax</h1>
    </div>

    <div style="margin-top: 16px; text-align: center; font-size: 14px;">**This is a computer-generated receipt and it does not require a signature.**</div>
</div>`}))};return e.jsxs(e.Fragment,{children:[window.ReactNativeWebView?e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed bottom-10 text-center  justify-center items-center  w-screen print:hidden z-50",children:e.jsxs("button",{onClick:()=>m(),className:ie,children:[e.jsx(J,{className:"inline text-lg"}),"print"]})})}):e.jsx(ne,{}),e.jsx("div",{id:"printableArea",className:" mt-10 print:mt-0",children:e.jsx("div",{children:e.jsxs("div",{className:"border-2 border-dashed border-gray-600 print:scale-95  bg-white p-2 w-[250mm] h-auto md:mx-auto lg:mx-auto  container2 relative ",children:[e.jsxs("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 ",children:[e.jsx("div",{className:"",children:e.jsx("img",{src:s==null?void 0:s.ulb_logo,className:"h-20 mx-auto"})}),e.jsx("div",{className:"absolute w-full h-full flex justify-center items-center",children:e.jsx("img",{src:s==null?void 0:s.state_logo,alt:"",className:"w-[22rem] h-[22rem]  z-10 bg-transparent opacity-20 rounded-full border"})})]}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 pt-2",children:e.jsx("div",{className:"",children:e.jsx("h1",{className:"font-bold text-4xl text-center ",children:s==null?void 0:s.ulb_name})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 pt-4 ",children:e.jsx("div",{className:"mx-auto",children:e.jsxs("h1",{className:"font-bold text-xl text-center text-gray-800 border-2 border-gray-700 px-10 py-2 ",children:["Payment Reciept ",e.jsx("br",{}),"Holding Tax"]})})}),e.jsx("div",{children:e.jsx("table",{className:"w-full mt-1 text-md",children:e.jsxs("tr",{className:"",children:[e.jsxs("td",{className:"font-semibold ",children:[e.jsxs("div",{className:"flex p-1 ",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Receipt No. :"}),e.jsxs("h1",{className:"flex font-sans font-normal  pl-2",children:[" ",t((j=(p=this.props)==null?void 0:p.paymentData)==null?void 0:j.transactionNo)]})]}),e.jsxs("div",{className:"flex p-1 ",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Department/Section :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((N=(i=this.props)==null?void 0:i.paymentData)==null?void 0:N.departmentSection)})]}),e.jsxs("div",{className:"flex p-1 ",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Account Description :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((g=(c=this.props)==null?void 0:c.paymentData)==null?void 0:g.accountDescription)})]}),e.jsx("div",{className:"flex p-1 "})]}),e.jsxs("td",{className:" font-semibold",children:[e.jsxs("div",{className:"flex p-1 ",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Date :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((b=(f=this.props)==null?void 0:f.paymentData)==null?void 0:b.transactionDate)})]}),e.jsxs("div",{className:"flex p-1 ",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Ward No. :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((a=(n=this.props)==null?void 0:n.paymentData)==null?void 0:a.oldWardNo)})]}),e.jsxs("div",{className:"flex p-1 ",children:[e.jsxs("h1",{className:"flex text-gray-900 font-sans ",children:[((r=this==null?void 0:this.props)==null?void 0:r.module)=="holding"?"Holding No.":"Application No. "," "]}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((v=(u=this.props)==null?void 0:u.paymentData)==null?void 0:v.applicationNo)})]})]})]})})}),e.jsx("div",{children:e.jsx("table",{className:"w-full  p-2 mt-2 text-md",children:e.jsx("tr",{className:"",children:e.jsxs("td",{className:" font-semibold",children:[e.jsxs("div",{className:"flex p-1",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Received From Mr/Mrs/Miss :"}),e.jsx("h1",{className:"flex font-sans font-normal  pl-2",children:t((D=(w=this.props)==null?void 0:w.paymentData)==null?void 0:D.customerName)})]}),e.jsxs("div",{className:"flex p-1",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Address :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:t((S=(R=this.props)==null?void 0:R.paymentData)==null?void 0:S.address)})]}),e.jsxs("div",{className:"flex p-1",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"A Sum of :"}),e.jsx("h1",{className:"flex font-sans font-normal pl-2 ",children:y((T=(A=this.props)==null?void 0:A.paymentData)==null?void 0:T.totalPaidAmount)})]}),e.jsxs("div",{className:"flex p-1",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"(in words ):"}),e.jsxs("h1",{className:"flex font-sans font-normal pl-2 border-b border-dashed border-gray-600 ",children:[" ",t((F=(P=this.props)==null?void 0:P.paymentData)==null?void 0:F.paidAmtInWords)," ","Rupees Only"]})]}),e.jsxs("div",{className:"flex p-1",children:[e.jsxs("h1",{className:"flex text-gray-900 font-sans ",children:["towards :"," ",e.jsx("span",{className:" font-sans font-normal ml-1",children:t((C=(_=this.props)==null?void 0:_.paymentData)==null?void 0:C.towards)})]}),e.jsxs("h1",{className:"flex text-gray-900 font-sans  ml-8 ",children:["Vide :"," ",e.jsx("span",{className:" font-sans font-normal ml-1",children:t((I=(k=this.props)==null?void 0:k.paymentData)==null?void 0:I.paymentMode)})," ",e.jsx("span",{className:" font-sans font-normal ml-1"})]})]})]})})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2 mt-3",children:e.jsx("div",{className:"",children:e.jsx("h1",{className:"font-bold text-md text-left ",children:"N.B. Online Payment/Cheque/Draft/Bankers Cheque are Subject to Realisation"})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2 -mt-1",children:e.jsx("div",{className:"",children:e.jsx("h1",{className:"font-bold text-base text-left ",children:"HOLDING TAX DETAILS"})})}),e.jsx("div",{children:e.jsxs("table",{className:"w-full border border-gray-500 ",children:[e.jsxs("thead",{className:" w-full",children:[e.jsxs("tr",{className:"flex  text-md   ",children:[e.jsx("td",{className:" text-center border-r  w-48",children:e.jsx("h1",{className:" text-gray-900 font-sans ",children:"Description"})}),e.jsx("td",{className:"flex-1 text-center border border-gray-500",children:e.jsx("h1",{className:" text-gray-900 font-sans",children:"Period"})}),e.jsx("td",{className:" text-center  border-l w-48",children:e.jsx("h1",{className:" text-gray-900 font-sans",children:"Total Amount"})})]}),e.jsxs("tr",{className:"flex text-md ",children:[e.jsx("td",{className:"text-center w-48"}),e.jsx("td",{className:"flex-1 first-line:text-center border-b border-r border-l border-gray-500",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center border-r border-gray-500",children:e.jsx("h1",{className:" text-gray-900 font-sans",children:"From"})}),e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" text-gray-900 font-sans",children:"To"})})]})}),e.jsx("td",{className:"text-center border-l w-48"})]}),e.jsxs("tr",{className:"flex  text-md   border-b border-gray-500",children:[e.jsx("td",{className:"text-center w-48 ",children:" "}),e.jsx("td",{className:"flex-1 text-center  border-r border-l border-gray-500",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" text-gray-900 font-sans border-r border-gray-500",children:"QTR"})}),e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" text-gray-900 font-sans border-r border-gray-500",children:"FY"})})]})}),e.jsx("td",{className:"flex-1   text-center",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" text-gray-900 font-sans border-r border-gray-500",children:"QTR"})}),e.jsx("td",{className:"flex-1 text-center",children:e.jsx("h1",{className:" text-gray-900 font-sans ",children:"FY"})})]})})]})}),e.jsx("td",{className:"text-center border-l w-48",children:" "})]})]}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"flex  border-b border-gray-500  text-md ",children:[e.jsx("td",{className:" text-center w-48",children:e.jsx("h1",{className:" font-sans font-normal ",children:"Holding Tax"})}),e.jsx("td",{className:"flex-1 text-center border-r border-l border-gray-500",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:"font-sans font-normal  border-r border-gray-500 text-[0.7rem]",children:t((z=(H=this.props)==null?void 0:H.paymentData)==null?void 0:z.paidFromQtr)})}),e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:"font-sans font-normal  border-r border-gray-500 text-[0.7rem]",children:t((E=(B=this.props)==null?void 0:B.paymentData)==null?void 0:E.paidFrom)})})]})}),e.jsx("td",{className:"flex-1   text-center",children:e.jsxs("tr",{className:"flex  ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" font-sans font-normal border-r border-gray-500 text-[0.7rem]",children:t((M=(L=this.props)==null?void 0:L.paymentData)==null?void 0:M.paidUptoQtr)})}),e.jsx("td",{className:"flex-1 text-center",children:e.jsx("h1",{className:" font-sans font-normal text-[0.7rem]",children:t((Q=(O=this.props)==null?void 0:O.paymentData)==null?void 0:Q.paidUpto)})})]})})]})}),e.jsx("td",{className:"text-center border-l w-48",children:e.jsx("h1",{className:" font-sans font-normal ",children:y((V=(q=this.props)==null?void 0:q.paymentData)==null?void 0:V.demandAmount)})})]}),($=(U=(W=this.props)==null?void 0:W.paymentData)==null?void 0:U.taxDetails)==null?void 0:$.map(d=>e.jsxs("tr",{className:"flex border-b border-gray-500  text-md ",children:[e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("h1",{className:" font-sans font-normal ",children:" "})}),e.jsx("td",{className:"flex-1 text-center ",children:e.jsx("tr",{className:"flex",children:e.jsx("td",{className:"flex-1 text-right",colSpan:2,children:e.jsx("tr",{className:"w-full ",children:e.jsx("td",{className:"w-full text-right",children:e.jsx("h1",{className:"font-sans font-normal text-sm",children:t(d==null?void 0:d.keyString)})})})})})}),e.jsx("td",{className:" text-center border-l border-gray-500 w-48",children:e.jsx("h1",{className:" font-sans font-normal ",children:y(d==null?void 0:d.value)})})]}))]})]})}),e.jsx("div",{children:e.jsx("table",{className:"w-full mt-6 ",children:e.jsx("tr",{className:"",children:e.jsxs("td",{className:" ",children:[e.jsx("div",{className:"",children:e.jsx(le,{url:window.location.href,size:"64"})}),e.jsx("div",{className:"flex ",children:e.jsxs("h1",{className:"flex text-gray-900 font-sans text-md",children:["For Details Please Visit : ",s==null?void 0:s.website]})}),e.jsx("div",{className:"flex ",children:e.jsxs("h1",{className:"flex text-gray-900 font-sans text-md",children:["Or Call us at ",s==null?void 0:s.mobile_no," or ",s==null?void 0:s.mobile_no_2]})})]})})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2 mt-2",children:e.jsx("div",{className:"",children:e.jsx("h1",{className:"font-normal text-md text-center ",children:"**This is a computer-generated receipt and it does not require a signature.**"})})})]})})})]})}}function Se(){K();const{paymentId:x,module:s}=Y();console.log("param payment id ..",x);let m;s=="saf"?m="SAF Receipt":m="Holding Receipt",Z(m);const h=o.useRef(),[l,p]=o.useState();o.useState(!1);const[j,i]=o.useState(!1),[N,c]=o.useState(!1),{api_getPaymentData:g,api_getHoldingReceiptUrl:f}=ae();o.useEffect(()=>{b()},[]);const b=()=>{i(!1),c(!0),window.localStorage.getItem("token");let n,a;s=="holding"?(n=f,a={tranNo:x}):s=="saf"?(n=g,a={tranNo:x}):(n=f,a={tranNo:x}),console.log("before fetch payment receipt....",a),ee.post(n,a,se()).then(r=>{console.log("payment data at receipt.....",r),r.data.status?p(r.data.data):i(!0),c(!1)}).catch(r=>{i(!0),c(!1),console.log(r)})};return N?e.jsxs(e.Fragment,{children:[e.jsx(te,{}),e.jsx("div",{className:"min-h-screen"})]}):j?e.jsx(re,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs("div",{children:[e.jsx(G,{trigger:()=>e.jsx("button",{}),content:()=>h.current}),e.jsx(ce,{module:s,ref:h,paymentData:l,ulbData:l==null?void 0:l.ulbDetails})]})}export{Se as default};
